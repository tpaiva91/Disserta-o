\chapter{Introdução}\label{chap:intro}

\section{Contexto}

A diabetes, também conhecida por \textit{diabetes mellitus}, é uma doença crónica bastante comum, conhecida por fazer com que os seus portadores tenham níveis de glicose (açúcar) no sangue mais elevados que o normal. Isto deve-se ao facto de o pâncreas não funcionar da forma devida ou nem sequer funcionar, de todo. Antes de nos aprofundarmos sobre a doença em si, eis alguns factos preocupantes:

Segundo a International Diabetes Federation (IDF), em 2014, cerca de 387 milhões de pessoas tinham diabetes. Em 2035, este número aumentará para 592 milhões e, de acordo com a Organização Mundial da Saúde, em 2030 a diabetes será a sétima causa de morte no planeta. 

Como se pode perceber, esta doença afeta muita gente e, por isso, cada vez mais se torna importante conseguir adiar, ou até mesmo prevenir, o seu aparecimento. No entanto, nem sempre isso é possível e, uma vez tendo a doença, esta é crónica. Como a diabetes não tem cura, é fundamental que um paciente diabético tenha tratamento adequado, sendo que o objetivo é que o paciente consiga manter valores de glicemia mais ou menos constantes e dentro de intervalos considerados normais. No entanto, não existe uma forma de tratamento padrão que possa ser aplicada a todos os doentes diabéticos. Além do tratamento médico, como a insulina ou medicamentos, há outros fatores que impactam, de alguma forma, a quantidade de glicose no sangue, como por exemplo o exercício ou o tipo de alimentos que se ingere. Nem toda a gente tem as mesmas rotinas e portanto, um tratamento que seja eficaz num paciente, pode não ser noutro. É por isso importante que os pacientes diabéticos tenham um tratamento personalizado, de acordo com as suas características e rotinas. Normalmente, o tratamento de um paciente diabético passa por um plano personalizado e elaborado pelos seus médicos endocrinologista e nutricionista. Este conceito tem o nome de medicina personalizada, que será aprofundado no próximo capítulo. 

Ainda no tratamento da doença, o registo frequente dos valores de glicose é fundamental pois permite, a cada momento, que o doente tenha noção do seu estado e portanto, tomar alguma medida caso seja necessário; é também a forma de os médicos conseguirem perceber se o plano de cada paciente é o mais adequado, ao analisar os registos de glicemia entre as consultas. 










A diabetes ocorre quando uma pessoa tem valores de glicose no sangue demasiado elevados. A glicose vem dos carbohidratos e é o único monosacarídeo que produz ATP. Resumindo, a glicose produz energia que vai ser utilizada pelas células. Há diferentes razões para que os níveis de glicose no sangue sejam mais elevados que o desejável: a produção de insulina pode não ser suficiente ou, mesmo que seja, as células não respondem à insulina como deveriam. É portanto natural que os níveis de glicose tendam a aumentar depois das refeições. Embora a diabetes esteja relacionada com a insuficiência de insulina no corpo, há diferentes tipos de diabetes. Os principais são:

- Diabetes Mellitus Tipo 1: A diabetes tipo 1, também conhecida como diabetes insulino-dependente ou diabetes juvenil, caracteriza-se pela produção deficiente de insulina pelo pâncreas e requer que o paciente tome doses de insulina diariamente. Normalmente aparece em jovens e é impossível de prevenir. Estima-se que apenas 5\% dos diabéticos tenha este tipo. Entre os sintomas, incluem-se sede insaciável, fome constante ou perda de peso.

- Diabetes Mellitus Tipo 2: A diabetes tipo 2, ou diabetes não-insulino-dependente, ocorre porque as células não usam a insulina de forma adequada. Neste tipo de diabetes, o problema não está necessariamente no pâncreas, mas sim na forma como as células utilizam a insulina. Cerca de 90\% dos diabéticos tem este tipo de diabetes que, normalmente, é associado a um estilo de vida pouco saudável. Por isso mesmo, este tipo de diabetes é frequentemente resultado de excesso de peso ou falta de exercício físico. É comum os doentes de DM2 não necessitarem de tomar insulina e a medicação é feita através de comprimidos. Este tipo de diabetes surge, geralmente, em pessoas mais velhas, mas tem-se vindo a manifestar também em jovens.

- Diabetes gestacional: Este tipo de diabetes pode aparecer durante a gravidez. Caracteriza-se por ter valores de glicose superiores aos normais mas, ainda assim, abaixo dos valores diagnosticados na diabetes. Normalmente, este tipo de diabetes é descoberto nas consultas e não devido a sintomas. Há também o risco de mulheres que sofram deste tipo de diabetes, poderem no futuro sofrer de diabetes tipo 2.

- Diabetes LADA: "Latent Autoimune Diabetes in Adults", traduzido para "diabetes auto-imune latente em adultos". Este tipo de diabetes é considerado uma variação de diabetes tipo 1, embora com uma evolulção mais lenta. No entanto, muitas vezes é erradamente diagnosticado como tipo 2.

Uma vez que esta doença é crónica, ou seja, não há cura, é extremamente importante que os doentes recebam tratamento adequado. No caso dos portadores de diabetes tipo 1 e de uma pequena percentagem de portadores de tipo 2, uma parte fundamental do tratamento passa pela administração de insulina. No entanto, para todos os tipos de diabéticos, o importante para levar uma vida normal, passa pelo registo regular e constante dos níveis de glicose no sangue. Isto porque a falta de eficácio do pâncreas leva a um aumento natural dos níveis de glicose no sangue e, por outro lado, a toma de insulina, quando em quantidades não adequadas, pode ter o efeito contrário e provocar níveis demasiado baixos de açúcar no sangue. Estes dois estados são conhecidos, respetivamente, por hiper e hipoglicemia.

Tanto a hiper como a hipoglicemia são estados que podem fazer parte do dia-a-dia dos diabéticos. Sam ambos de evitar e potencialmente perigosos. A hiperglicemia pode trazer complicações a longo prazo, como doenças cardíacas e renais. Podem fazer parte dos sintomas de hiperglicemia sede intensa, cansaço, dores de cabeça, visão turva, entre outros.

Por sua vez, a hipoglicemia apresenta alguns sintomas tais como tremores, fome, nervosismo, calor, mas não só. Embora menos preocupante a longo prazo do que a hiperglicemia, a curto prazo a hipoglicemia pode ser mais perigosa. Isto porque o cérebro necessita de açúcar para poder funcionar de forma correta e, quando não o tem, pode levar a que o doente perca a consciência. A partir do momento em que o doente desmaia, não consegue contrariar a hipoglicemia, que normalmente se combate pela ingestão imediata de açúcar.

Como se pode perceber, a medição dos níveis de glicose no sangue e também o seu registo, são fatores fundamentais para que um diabético possa ter uma rotina normal. Em plena era da tecnologia, essa medição é feita através de pequenos dispositivos, os glucómetros, que, numa questão de segundos, conseguem dar uma medição precisa dos níveis de açúcar no sangue. O registo é também importante para comparar valores, de forma a que os médicos consigam acompanhar o historial do doente. Também para o registo há dispositivos próprios. No entanto, num período em que os \textit{smartphones} estão cada vez mais em voga, podem ser a ferramente mais natural apra se efetuarem estes registos. É importante para um médico poder observar os valores de glicose dos seus pacientes, que têm de ser registados pelos próprios pacientes. Um registo em papel torna-se rapidamente confuso e até passível de se perder, enquanto que um registo informático traz mais segurança e organização. Embora hajam dispositivos próprios para o registo dos níveis de glicose, isso pode implicar andar sempre com um dispositivo a mais. Por outro lado, como, em princípio, uma pessoa anda sempre com o seu telemóvel, este registo torna-se mais fácil, visto que oferece grande portabilidade e não necessita de nenhum dispositivo extra. É portanto uma vantagem da aliança da tecnologia à saúde. Não é a única, no entanto.

\textit{Data Mining} é uma área da ciência de computadores que permite, através da análise de grandes quantidades de dados, descobrir padrões e regras que uma análise mais simples pode não detetar. A área de \textit{Data Mining} usa diversos métodos de outras áreas, tais como matemática, inteligência artificial e \textit{machine learning}, para tratar, explorar e obter conclusões acerca dos dados. \textit{Data Mining} pode ter diversos fins, como por exemplo,  deteção de anomalias, associação e classificação.

Como se pode perceber pelo nome, deteção de anomalias tem como objetivo a identificação de valores anormais , que podem apenas ser erros mas podem também ter interesse para uma determinada área.

A associação procura relações entre variáveis e pode quantificar essas relações. Um exemplo deste tipo poderia ser a relação entre o emprego de alguém e o seu carro.

Finalmente, a classificação tem como objetivo estudar conjuntos de dados para depois, ao observar novos dados, conseguir classificá-los corretamente. Por exemplo, ao estudar um \textit{dataset} com alguns dados e tendo uma variável "diagnóstico" como sendo "diabético" ou "não-diabético", ao fazer uma aprendizagem e analisar um outro \textit{dataset} com os mesmos tipos de dados, conseguirá, com alguma precisão, classificar corretamente como "diabético" ou "não-diabético".

Nos últimos anos, a área de \textit{Data Mining} tem-se tornado bastante popular e consequentemente bastante usada em diversas áreas, tais como economia, educação e saúde. É precisamente nesta última área que \textit{Data Mining} se pode tornar especialmente útil. Tal como já discutido anteriormente, a diabetes pode provocar oscilações nos valores de glicose no sangue, que podem não ser percetíveis pelos doentes ou, mesmo que sejam, podem não ser tidas como importantes. No entanto, ao fazer aprendizagem sobre os dados dos pacientes, pode ser possível descobrir que afinal essas oscilações podem ter origiem em comportamentos rotineiros, ou seja, fazem parte de um padrão. Um dos objetivos da \textit{Data Mining} é precisamente descobrir padrões. 

Torna-se portanto óbvio que esta área pode ser útil na medicina, em particular para os portadores de diabetes, ao permitir descobrir rotinas que provocam oscilações nos níveis de açúcar no sangue, e que de outra forma poderiam passar despercebidas. Se pensarmos que, ao desborir a causa de tais oscilações, pode descobrir-se a solução, isto ganha ainda mais importância. De forma a perceber melhor de que forma a análise de dados pode melhorar o controlo da diabetes, tomemos como exemplo o seguinte caso: um determinado paciente tem como rotina fazer exercício às segundas-feiras. Às terças-feiras tem sempre níveis de glicose mais baixo. No entanto, pode acontecer que nos outros dias até tenha valores normais e portanto, não se preocupar com esta situação. Contudo, este valor mais baixo pode ser justificado: no dia anterior praticou exercício e não se alimentou devidamente, tendo hipoglicemia na manhã de terça-feira.

Tendo uma ferramenta que seja capaz de analisar dados, descobrir padrões e regras, o doente não só fica mais consciente de erros que pode cometer no controlo da diabetes como também como os combater. 

Algumas referências para se ver a ordenação  \cite{yaacoub2012}. Aqui outra ainda \cite{etsitr102732}.

Deve-se ler Strunk~\cite{strunk2007elements}

\ac{HTTP} é um protocolo como diz em~\cite{test2000} e também na secção~\ref{chap:stat}.

  Temos aqui o Clausen \cite{Clausen2003}. E para ver várias \cite{yaacoub2012, etsitr102732, strunk2007elements}

Deve-se acrescentar os acrónimos no ficheiro \texttt{acros.tex} e ordená-los alfabeticamente nesse ficheiro.


\section{Projeto}

Esta dissertação integra-se no projeto "Smart Diabetes Self-Management" que conta com uma aplicação Android chamada "My Diabetes". De momento, a aplicação permite ao utilizador registar refeições, que podem ser acompanhadas com fotos, registar medições de glicose, definir objetivos para glicemias, registar doenças, exercícios, entre outros. Contudo, permite apenas registar e visualizar os dados inseridos.

No âmbito desta dissertação, propõe-se desenvolver um sistema capaz de analisar dados introduzidos pelos doentes, que consiga detetar padrões e anormalidades nos dados introduzidos, avisando o utilizador. Para o conseguir, pretende-se ampliar as funcionalidades da aplicação "My Diabetes" para que esta consiga "aprender" o que é normal e o que é "anormal", gerando regras que traduzam as anormalidades, com base no \textit{input} obtido.

Para o conseguir, tornou-se necessário obter dados de pacientes com diabetes insulino-dependente. Deste modo, em parceria com o Hospital de São João do Porto, foi levado a cabo uma sensibilização dos doentes para utilizarem a aplicação de forma voluntário, sendo que, em última análise, estes serão os maiores beneficiados.

A utilização da aplicação por parte de voluntários tem diversos objetivos: em primeiro lugar, obter \textit{feedback} da aplicação em si, tal como críticas ou sugestões; em segundo, poder construir \textit{datasets} de dados reais de registos diabéticos, algo escasso na web. A obtenção de dados reais permite ter uma ideia do tipo de dados que a aplicação vai obter por parte de utilizadores, bem como o tipo de padrões que podem ser descobertos ou regras que podem ser geradas.

Portanto, a análise será feita aos dados que os utilizadores inserirem na aplicação. Podem ser registados dados tão diferentes como peso, altura, colesterol, exercício ou doenças. Para a descoberta de regras, alguns dados serão mais relevantes que outros, por terem um impacto direto nos valores de glicose, tais como hidratos de carbono, exercício ou doenças, e portanto a análise será feita principalmente com base nos registos destes dados. Isto servirá para dotar a aplicação de "inteligência", isto é, a aplicação ao longo do tempo aprende o que são valores normais e o que podem ser situações anormais. Ao saber que ocorreram situações anormais, também é possível o que as originaram. Uma vez feita a aprendizagem, sempre que situações semelhantes ocorram, a aplicação mostrará um aviso.

Para a aprendizagem serão utilizadas diferentes técnicas de \textit{Data Mining} que gerarão regras. Essas regras serão então traduzidas para Prolog. A linguagem escolhida foi Prolog por se tratar de uma linguagem de programação lógica fortemente associada a inteligência artificial e \textit{machine learning}. Além disso, e ao contrário de outras linguagens, o Prolog é declarativo. Isto significa que um programa em Prolog é expresso em termos de relações, que são definidas por factos e regras.

\subsection{Objetivos}

O objetivo da dissertação é integrar um sistema capaz de gerar regras e avisos a partir dos dados inseridos. De um modo sumário, os objetivos são:

- Obter dados através da participação de pessoas de diabetes;

- Analisar esses dados para conseguir detetar padrões ou anomalias;

- Criar regras a partir da análise dos dados;

- Integrar o sistema desenvolvido na aplicação para que esta, de forma autónoma, consiga gerar avisos.

[ESTRUTURA DO DOCUMENTO]
\section{Second Section example}
\subsection{SubSection example}
\lipsum[7-10]

